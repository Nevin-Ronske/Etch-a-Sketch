<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Specifies character encoding and viewport settings for responsive design -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Links to external CSS and JavaScript files -->
    <link rel="stylesheet" href="style.css">
    <script src="script.js"></script>

    <!-- Sets the title of the webpage -->
    <title>Etch-a-Sketch</title>
</head>

<body>

    <!-- Main heading of the webpage -->
    <h1>Etch-a-Sketch</h1>

    <!-- Container for the "Set Grid" button -->
    <div id="btn">
        <br>
        <button>Set Grid</button>
    </div>

    <!-- Container for the grid -->
    <div id="container">
        <script>
            // Default number of rows and columns
            let rnum = 16;
            let cnum = 16;

            // Get references to the container and other dynamic elements
            const container = document.getElementById("container");

            // Function to create the default grid
            function defaultGrid() {
                makeRows(rnum); // Create rows
                makeGrids(cnum); // Populate each row with columns
            }

            // Function to create a specified number of rows
            function makeRows(rnum) {
                for (let r = 0; r < rnum; r++) {
                    let row = document.createElement("div"); // Create a new row element
                    row.className = "row"; // Assign the class "row"
                    container.appendChild(row); // Add the row to the container
                }
            }

            // Function to populate rows with a specified number of columns
            function makeGrids() {
                const rows = document.getElementsByClassName("row");
                for (let i = 0; i < rows.length; i++) {
                    for (let g = 0; g < cnum; g++) {
                        let column = document.createElement("div"); // Create a new column element
                        column.className = "column"; // Assign the class "column"

                        // Add a mouseover event to change the column's background color
                        column.addEventListener("mouseover", function () {
                            column.style.backgroundColor = "black"; // Change color on hover
                        });

                        rows[i].appendChild(column); // Add the column to the current row
                    }
                }
            }

            // Event listener for the "Set Grid" button
            document.querySelector("button").addEventListener('click', promptMe);

            // Function to prompt the user for a new grid size
            function promptMe() {
                let promptUser = prompt("Type a number 100 or less for grid");

                // Validate user input
                if (promptUser === null || isNaN(promptUser) || promptUser < 1 || promptUser > 100) {
                    alert("Please enter a valid number between 1 and 100.");
                    return; // Exit the function if input is invalid
                }

                // Update the row and column numbers based on user input
                rnum = promptUser;
                cnum = promptUser;

                // Clear the existing grid
                container.innerHTML = "";

                // Create a new grid with the updated size
                defaultGrid();
            }

            // Initialize the grid with the default size
            defaultGrid();
        </script>
    </div>
</body>

</html>